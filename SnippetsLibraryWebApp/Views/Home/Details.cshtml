<!-- Views/Snippets/Details.cshtml -->
@model SnippetsLibraryWebApp.Models.SnippetModel

@{
    ViewData["Title"] = "Деталі сніпета";
}

<div class="snippet-details">
    <h2 class="snippet-title">@Model.Title</h2>
    <div class="snippet-meta">
        <span class="snippet-language">@GetProgrammingLanguageName(Model.ProgrammingLanguageID)</span>
        <span class="snippet-saves">
            <i class="fas fa-star"></i> @Model.SavesCount
        </span>
    </div>
    <div class="snippet-info">
        <span class="snippet-author">Автор: @GetAuthorName(Model.AuthorID)</span>
    </div>
    <div class="snippet-updated">
        Оновлено: @Model.UpdatedAt.ToString("dd.MM.yyyy 'о' HH:mm")
    </div>
    <div class="snippet-tags">
        @foreach (var tag in Model.Tags)
        {
            <span class="snippet-tag">@tag.Name</span>
        }
    </div>
    <div class="snippet-categories">
        <strong>Категорії:</strong>
        @foreach (var category in Model.Categories)
        {
            <span class="snippet-category">@category.Name</span>
        }
    </div>
    <div class="snippet-code">
        <pre>@Model.Code</pre>
    </div>
    <div class="snippet-description-full">
        <p>@Model.Description</p>
    </div>
</div>

@functions {
    // Метод для отримання назви мови програмування за її ID
    public string GetProgrammingLanguageName(int id)
    {
        var languages = new Dictionary<int, string>
        {
            { 1, "C#" },
            { 2, "C++" },
            { 3, "Java" },
            { 4, "Python" },
            { 5, "JavaScript" },
            // Додайте інші мови відповідно до вашої бази даних
        };

        return languages.ContainsKey(id) ? languages[id] : "Unknown";
    }

    // Метод для отримання імені автора за його ID
    public string GetAuthorName(int authorId)
    {
        // Реалізуйте логіку для отримання імені автора
        return $"Користувач {authorId}";
    }
}
